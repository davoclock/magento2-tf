https://devdocs.magento.com/guides/v2.3/install-gde/system-requirements-tech.html

1. VPC (multi-region)
    a. VPC: 10.10.0.0/16, 10.20.0.0/16
    b. Subnets
        -DMZa: 10.10.1.0/24, 10.20.1.0/24 (PUB) (bastion hosts)
        -DMZb: 10.10.2.0/24, 10.20.2.0/24 (PUB) (bastion hosts)
        -Cachea: 10.10.3.0/24, 10.20.3.0/24 (PUB) (varnish)
        -Cacheb: 10.10.4.0/24, 10.20.4.0/24 (PUB) (varnish)
        -Weba: 10.10.5.0/24, 10.20.5.0/24 (nginx+magento)
        -Webb: 10.10.6.0/24, 10.20.6.0/24 (nginx+magento
        -Databasea: 10.10.7.0/24, 10.20.7.0/24 (RDS)
        -Databaseb: 10.10.8.0/24, 10.20.8.0/24 (RDS)
        -Searcha: 10.10.9.0/24, 10.20.9.0/24 (elasticsearch)
        -Searchb: 10.10.10.0/24, 10.20.10.0/24 (elasticsearch)
        -EFSa: 10.10.11.0/24, 10.20.11.0/24 (EFS - pub/media)
        -EFSb: 10.10.12.0/24, 10.20.12.0/24 (EFS - pub/media)
        -Redisa: 10.10.13.0/24, 10.20.13.0/24 (Redis)
        -Redisb: 10.10.14.0/24, 10.20.14.0/24 (Redis)
        -Mgmta: 10.10.15.0/24, 10.20.15.0/24 (Ansible?)
    c. NAT/Internet Gateways
    d. Routing Tables

2. Database
    a. MySQL (5.17) (Cross Region Replication)
    b. Subnet Group based on Database[ab]
    c. Access from: Web[ab]
    d. Port 3306

3. EFS
    a. Listeners on EFS[ab]
    b. Web[ab], Mgmta

4. Redis
    a. Redis 5 (Cross Region Replication)
    c. Access from: Web[ab], Mgmta

5. ElasticSearch
    a. Elasticsearch 7.x.x
    c. Access from: Web[ab], Mgmta

6. LB
    a. Access from: WORLD
    b. TG->ASG

7. AMI for Varnish
    a. amazon-linux2
    b. varnish6
    c. Access from: PUB LB

8. AMI for Magento
    a. amazon-linux2
        bash
        gzip
        lsof
        mysql
        mysqldump
        nice
        php
        sed
        tar
    b. php-fpm 7.3
        ext-bcmath
        ext-ctype
        ext-curl
        ext-dom
        ext-gd
        ext-hash
        ext-iconv
        ext-intl
        ext-mbstring
        ext-openssl
        ext-pdo_mysql
        ext-simplexml
        ext-soap
        ext-xsl
        ext-zip
        lib-libxml


    c. nginx 1.12 https://www.nginx.com/blog/tuning-nginx/
    d. composer
    e. Access from: PRIV LB
    f. magento user
    g. OS tweaks https://devdocs.magento.com/guides/v2.3/performance-best-practices/software.html

9. ASG for Varnish
    a. max 1

10. ASG for Magento
    a. max 1

11. Cloudfront
    a. origin: PUB LB

12. WAF
    a. OWASP 10

13. Route53
    a. CNAME: Cloudfront URL